{% extends "layout.njk" %}

{% block content %}

      <div class="card">
            <section 
         class="avatar"
         style="background: url({{member.avatar_url}}) no-repeat center center / cover" ></section>

            <section class="details">

                  <form id ="form-delete" method="post" action="/members?_method=DELETE">
                        <button type="submit">Deletar</button>
                        <input type ="hidden" name = "id"value = {{ member.id }}  >
                  </form>

                  <form method="POST" action="/members?_method=PUT">

                        <h3>Editar Membro</h3>

                        {% include 'members/field.njk' %}

                        <input 
                         type ="hidden" 
                         name = "id"
                         value = {{ member.id }}  >
                  </form>

            </section>

      </div>
      <script>
            const formDelete = document.querySelector("#form-delete")
            formDelete.addEventListener("submit", function (event) {
                  const confirmation = confirm("Deseja Deletar?")
                  if (!confirmation) {
                        event.preventDefault()
                  }
            })
      </script>

{% endblock content %}